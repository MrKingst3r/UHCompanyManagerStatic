import{_ as h,k as p,s as x,o as b,c as d,b as e,j as w,w as i,v as l,f as v,F as k,h as D,R as S,a1 as E,a2 as V,a,a3 as N,t as U}from"./index.4180d3e0.js";import{u as A}from"./index.4c966179.js";import{r as _}from"./index.afdce5e1.js";const c=p(),q={setup(){const g=S(),t=x({event:{name:null,description:null,date:null,services:[],address:{line1:null,line2:null,city:null,county:null,zip:null},attendees:[]},activeServices:[],openDescriptions:[]}),r=A({event:{name:{required:_},date:{required:_,validDate:n=>new Date(n)instanceof Date&&!isNaN(new Date(n)),notBeforeToday:n=>{const u=new Date;return n>=u.toISOString().split("T")[0]}}}},t);return b(async()=>{try{const n=await E();t.activeServices=n.filter(u=>u.status==="Active")}catch(n){c.error(n)}}),{state:t,v$:r,handleSubmitForm:async()=>{if(await r.value.$validate(),r.value.$error){c.error("Please fix input field errors");return}try{const n=await V(t.event);g.push("/findevents"),c.success(n)}catch(n){c.error(`error creating new event: ${n}`)}}}}},B=e("div",null,[e("h1",{class:"font-bold text-4xl text-red-700 tracking-widest text-center mt-10"}," Create New Event ")],-1),C={class:"px-10 py-20"},F={class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-x-6 gap-y-10"},T=e("h2",{class:"text-2xl font-bold"},"Event Details",-1),M={class:"flex flex-col"},z={class:"block"},L=e("span",{class:"text-gray-700"},"Event Name",-1),j=e("span",{style:{color:"#ff0000"}},"*",-1),O={key:0,class:"text-red-500"},R={class:"flex flex-col"},I={class:"block"},P=e("span",{class:"text-gray-700"},"Date",-1),Z=e("span",{style:{color:"#ff0000"}},"*",-1),G={key:0,class:"text-red-500"},H={key:0},J={key:1},K={key:2},Q=e("div",null,null,-1),W=e("div",null,null,-1),X=e("div",{class:"flex col-span-2 flex-col"},[e("label",{class:"block"},[e("span",{class:"text-gray-700"},"Description"),e("textarea",{class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",rows:"2"})])],-1),Y={class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-x-6 gap-y-10 mt-10"},$=e("h2",{class:"text-2xl font-bold"},"Services Offered at Event",-1),ee={class:"flex flex-col grid-cols-3"},se={key:0,class:"space-y-2"},te=["data-service-id"],oe={class:"block w-full h-full"},ne=["id","value","checked"],de={class:"font-medium"},ae={key:1,class:"text-gray-600"},ie={class:"mt-10 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-x-6 gap-y-10"},le=e("h2",{class:"text-2xl font-bold"},"Address",-1),re={class:"flex flex-col"},ce={class:"block"},ue=e("span",{class:"text-gray-700"},"Address Line 1",-1),ve={class:"flex flex-col"},ge={class:"block"},fe=e("span",{class:"text-gray-700"},"Address Line 2",-1),_e={class:"flex flex-col"},me={class:"block"},ye=e("span",{class:"text-gray-700"},"City",-1),he=e("div",null,null,-1),pe={class:"flex flex-col"},xe={class:"block"},be=e("span",{class:"text-gray-700"},"County",-1),we={class:"flex flex-col"},ke={class:"block"},De=e("span",{class:"text-gray-700"},"Zip Code",-1),Se=e("div",{class:"mt-10 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-x-6 gap-y-10"},[e("div"),e("div",{class:"flex justify-between mr-20"},[e("button",{class:"bg-red-700 text-white rounded",type:"submit"}," Add New Event ")])],-1);function Ee(g,t,m,s,y,r){return a(),d("main",null,[B,e("div",C,[e("form",{onSubmit:t[8]||(t[8]=w((...o)=>s.handleSubmitForm&&s.handleSubmitForm(...o),["prevent"]))},[e("div",F,[T,e("div",M,[e("label",z,[L,j,i(e("input",{type:"text",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50","onUpdate:modelValue":t[0]||(t[0]=o=>s.state.event.name=o)},null,512),[[l,s.state.event.name]])]),s.v$.event.name.$error?(a(),d("span",O," Event Name is required ")):v("",!0)]),e("div",R,[e("label",I,[P,Z,i(e("input",{class:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50","onUpdate:modelValue":t[1]||(t[1]=o=>s.state.event.date=o),type:"date"},null,512),[[l,s.state.event.date]])]),s.v$.event.date.$error?(a(),d("span",G,[s.v$.event.date.required.$invalid?(a(),d("span",H," Event Date is required ")):!s.v$.event.date.required.$invalid&&s.v$.event.date.validDate.$invalid?(a(),d("span",J," Event Date must be a valid date ")):!s.v$.event.date.required.$invalid&&!s.v$.event.date.validDate.$invalid&&s.v$.event.date.notBeforeToday.$invalid?(a(),d("span",K," New Event Date cannot be in the past. ")):v("",!0)])):v("",!0)]),Q,W,X]),e("div",Y,[$,e("div",ee,[e("div",null,[s.state.activeServices.length?(a(),d("ul",se,[(a(!0),d(k,null,D(s.state.activeServices,o=>(a(),d("li",{key:o._id,"data-service-id":o._id,class:"rounded-lg border border-gray-300 p-2 hover:bg-gray-100 transition-colors relative"},[e("label",oe,[i(e("input",{type:"checkbox",id:o._id,value:o._id,checked:s.state.event.services.includes(o._id),"onUpdate:modelValue":t[2]||(t[2]=f=>s.state.event.services=f),class:"rounded border-gray-300 text-indigo-600 shadow-sm focus:border-indigo-300 focus:ring focus:ring-offset-0 focus:ring-indigo-200 focus:ring-opacity-50 mr-2"},null,8,ne),[[N,s.state.event.services]]),e("span",de,U(o.name),1)])],8,te))),128))])):(a(),d("p",ae,"No Active Services Available"))])])]),e("div",ie,[le,e("div",re,[e("label",ce,[ue,i(e("input",{type:"text",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",placeholder:"","onUpdate:modelValue":t[3]||(t[3]=o=>s.state.event.address.line1=o)},null,512),[[l,s.state.event.address.line1]])])]),e("div",ve,[e("label",ge,[fe,i(e("input",{type:"text",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",placeholder:"","onUpdate:modelValue":t[4]||(t[4]=o=>s.state.event.address.line2=o)},null,512),[[l,s.state.event.address.line2]])])]),e("div",_e,[e("label",me,[ye,i(e("input",{type:"text",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",placeholder:"","onUpdate:modelValue":t[5]||(t[5]=o=>s.state.event.address.city=o)},null,512),[[l,s.state.event.address.city]])])]),he,e("div",pe,[e("label",xe,[be,i(e("input",{type:"text",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",placeholder:"","onUpdate:modelValue":t[6]||(t[6]=o=>s.state.event.address.county=o)},null,512),[[l,s.state.event.address.county]])])]),e("div",we,[e("label",ke,[De,i(e("input",{type:"text",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",placeholder:"","onUpdate:modelValue":t[7]||(t[7]=o=>s.state.event.address.zip=o)},null,512),[[l,s.state.event.address.zip]])])])]),Se],32)])])}const Ae=h(q,[["render",Ee]]);export{Ae as default};
