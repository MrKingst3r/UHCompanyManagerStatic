import{_ as E,k as w,r as l,o as D,c,b as e,w as h,G as S,v as f,H as _,f as y,F as k,h as B,a4 as C,a5 as x,a as u,K as F,t as g}from"./index.4180d3e0.js";const N={setup(){const a=w(),s=l(null),r=l(null),t=l(null),d=l(null),v=l(null),o=l(!1),i=async()=>{r.value=null,t.value=null,d.value=null,o.value=!0;try{const n=await C();s.value=n}catch(n){a.error("loadData error",n)}},b=async()=>{if(r.value==="Event Name"){if(t.value)try{const n={searchBy:"name",name:t.value},m=await x(n);s.value=m}catch(n){a.error("Error searching events",n)}}else if(r.value==="Event Date"&&d.value)try{const n={searchBy:"date",eventDate:d.value};console.log(n);const m=await x(n);console.log(m),s.value=m}catch(n){a.error("Error searching events:",n)}},p=n=>{$router.push({name:"eventdetails",params:{id:n}})};return D(()=>{i()}),{events:s,searchBy:r,name:t,eventDate:d,hoverId:v,loadData:i,handleSubmitForm:b,navigateToEventDetails:p}},methods:{formatDate(a){const s={month:"long",day:"numeric",year:"numeric",timeZone:"UTC"};return new Date(a).toLocaleDateString("en-US",s)}}},M=e("div",null,[e("h1",{class:"font-bold text-4xl text-red-700 tracking-widest text-center mt-10"}," List of Events ")],-1),L={class:"px-10 pt-20"},U={class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-x-6 gap-y-10"},V=e("h2",{class:"text-2xl font-bold"},"Search Event By",-1),I={class:"flex flex-col"},K=e("option",{value:"Event Name"},"Event Name",-1),T=e("option",{value:"Event Date"},"Event Date",-1),q=[K,T],z={key:0,class:"flex flex-col"},A={class:"block"},G={key:1,class:"flex flex-col"},H={class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-x-6 gap-y-10"},R=e("div",null,null,-1),Z=e("div",null,null,-1),j={class:"mt-5 grid-cols-2"},J=e("hr",{class:"mt-10 mb-10"},null,-1),O={class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-x-6 gap-y-10"},P=e("div",{class:"ml-10"},[e("h2",{class:"text-2xl font-bold"},"List of Events"),e("h3",{class:"italic"},"Click table row to view event details")],-1),Q={class:"flex flex-col col-span-2"},W={class:"min-w-full shadow-md rounded"},X=e("thead",{class:"bg-gray-50 text-xl"},[e("tr",null,[e("th",{class:"p-4 text-left"},"Event Name"),e("th",{class:"p-4 text-left"},"Event Date"),e("th",{class:"p-4 text-left"},"Event Address")])],-1),Y={class:"divide-y divide-gray-300"},$=["onClick","onMouseenter"],ee={class:"p-2 text-left"},te={class:"p-2 text-left"},se={class:"p-2 text-left"};function oe(a,s,r,t,d,v){return u(),c("main",null,[M,e("div",L,[e("div",U,[V,e("div",I,[h(e("select",{class:"rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50","onUpdate:modelValue":s[0]||(s[0]=o=>t.searchBy=o)},q,512),[[S,t.searchBy]])]),t.searchBy==="Event Name"?(u(),c("div",z,[e("label",A,[h(e("input",{type:"text",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50","onUpdate:modelValue":s[1]||(s[1]=o=>t.name=o),onKeyup:s[2]||(s[2]=_((...o)=>t.handleSubmitForm&&t.handleSubmitForm(...o),["enter"])),placeholder:"Enter event name"},null,544),[[f,t.name]])])])):y("",!0),t.searchBy==="Event Date"?(u(),c("div",G,[h(e("input",{class:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",type:"date","onUpdate:modelValue":s[3]||(s[3]=o=>t.eventDate=o),onKeyup:s[4]||(s[4]=_((...o)=>t.handleSubmitForm&&t.handleSubmitForm(...o),["enter"]))},null,544),[[f,t.eventDate]])])):y("",!0)]),e("div",H,[R,Z,e("div",j,[e("button",{class:"mr-10 border border-red-700 bg-white text-red-700 rounded",onClick:s[5]||(s[5]=(...o)=>t.loadData&&t.loadData(...o)),type:"submit"}," Clear Search "),e("button",{class:"bg-red-700 text-white rounded",onClick:s[6]||(s[6]=(...o)=>t.handleSubmitForm&&t.handleSubmitForm(...o)),type:"submit"}," Search Event ")])])]),J,e("div",O,[P,e("div",Q,[e("table",W,[X,e("tbody",Y,[(u(!0),c(k,null,B(t.events,o=>(u(),c("tr",{onClick:i=>a.$router.push({name:"eventdetails",params:{id:o._id}}),key:o._id,class:F(["cursor-pointer",{hoverRow:t.hoverId===o._id}]),onMouseenter:i=>t.hoverId=o._id,onMouseleave:s[7]||(s[7]=i=>t.hoverId=null)},[e("td",ee,g(o.name),1),e("td",te,g(v.formatDate(o.date)),1),e("td",se,g(o.address.line1),1)],42,$))),128))])])])])])}const ae=E(N,[["render",oe]]);export{ae as default};
